<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - GarmentPay Hub</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // --- MOCK DATA ---
        const initialUsers = [
            { id: 1, name: 'Budi Hartono', role: 'Penjahit', phone: '081234567890', status: 'Aktif' },
            { id: 2, name: 'Siti Aminah', role: 'Pemotong', phone: '081234567891', status: 'Aktif' },
            { id: 3, name: 'Agus Setiawan', role: 'Finishing', phone: '081234567892', status: 'Aktif' },
            { id: 4, name: 'Rina Marlina', role: 'Penjahit', phone: '081234567893', status: 'Aktif' },
            { id: 5, name: 'Dewi Lestari', role: 'Admin', email: 'admin@garment.com', status: 'Aktif' },
        ];

        const initialRates = [
            { id: 1, model: 'Kemeja Flanel', role: 'Penjahit', rate: 12500 },
            { id: 2, model: 'Kaos Polos', role: 'Penjahit', rate: 5000 },
            { id: 3, model: 'Celana Chino', role: 'Penjahit', rate: 18000 },
            { id: 4, model: 'Kemeja Flanel', role: 'Pemotong', rate: 2000 },
        ];
        
        const initialKasbon = [
            { id: 1, userId: 1, amount: 500000, date: '2025-09-12', remaining: 400000, status: 'Cicilan' },
            { id: 2, userId: 3, amount: 250000, date: '2025-09-18', remaining: 250000, status: 'Baru' },
        ];
        
        // --- ICONS ---
        const UsersIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>);
        const DollarSignIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>);
        const TagIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.432 0l6.568-6.568a2.426 2.426 0 0 0 0-3.432L12.586 2.586z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>);
        const ClipboardIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></svg>);
        const PlusIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" x2="12" y1="5" y2="19"/><line x1="5" x2="19" y1="12" y2="12"/></svg>);
        const EditIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>);
        const TrashIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>);
        const XIcon = (props) => (<svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>);
        
        // --- UI COMPONENTS ---
        const Card = ({ children, className }) => <div className={`bg-white border border-slate-200 rounded-xl shadow-sm ${className}`}>{children}</div>;
        const CardHeader = ({ children, className }) => <div className={`p-6 pb-4 flex justify-between items-center ${className}`}>{children}</div>;
        const CardTitle = ({ children, className }) => <h3 className={`text-lg font-semibold tracking-tight text-slate-900 ${className}`}>{children}</h3>;
        const CardContent = ({ children, className }) => <div className={`p-6 pt-0 ${className}`}>{children}</div>;

        const Button = ({ children, variant = 'primary', size = 'md', className, ...props }) => {
            const baseClasses = 'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';
            const variantClasses = {
                primary: 'bg-[#145CE6] text-white hover:bg-[#145CE6]/90 focus:ring-[#145CE6]',
                secondary: 'bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-slate-400',
                ghost: 'hover:bg-slate-100',
                danger: 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500',
            };
            const sizeClasses = {
                sm: 'h-8 px-3',
                md: 'h-10 px-4 py-2',
            };
            return <button className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`} {...props}>{children}</button>;
        };
        
        const Input = ({ className, ...props }) => <input className={`flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#145CE6] focus:ring-offset-2 ${className}`} {...props} />;
        const Select = ({ className, children, ...props }) => <select className={`flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#145CE6] focus:ring-offset-2 ${className}`} {...props}>{children}</select>;
        const Label = ({ children, className, ...props }) => <label className={`text-sm font-medium leading-none text-slate-700 ${className}`} {...props}>{children}</label>;

        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center" onClick={onClose}>
                    <div className="bg-white rounded-lg shadow-xl w-full max-w-lg" onClick={e => e.stopPropagation()}>
                        <div className="flex items-center justify-between p-4 border-b">
                            <h3 className="text-lg font-semibold">{title}</h3>
                            <Button variant="ghost" size="sm" onClick={onClose} className="rounded-full w-8 h-8 p-0"><XIcon /></Button>
                        </div>
                        <div className="p-6">{children}</div>
                    </div>
                </div>
            );
        };

        const ConfirmationModal = ({ isOpen, onClose, onConfirm, title, children }) => {
            if (!isOpen) return null;
            return (
                <Modal isOpen={isOpen} onClose={onClose} title={title}>
                    <div className="space-y-4">
                        <p className="text-sm text-slate-600" dangerouslySetInnerHTML={{ __html: children }}></p>
                        <div className="flex justify-end space-x-2 pt-4">
                            <Button type="button" variant="secondary" onClick={onClose}>
                                Batal
                            </Button>
                            <Button type="button" variant="danger" onClick={onConfirm}>
                                Ya, Lanjutkan
                            </Button>
                        </div>
                    </div>
                </Modal>
            );
        };

        // --- ADMIN PAGE COMPONENTS ---

        function KelolaKaryawan() {
            const [users, setUsers] = useState(initialUsers);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editingUser, setEditingUser] = useState(null);
            const [formData, setFormData] = useState({ name: '', role: 'Penjahit', phone: '', email: '' });
            const [userToDelete, setUserToDelete] = useState(null);

            useEffect(() => {
                if (editingUser) {
                    setFormData({ name: editingUser.name, role: editingUser.role, phone: editingUser.phone || '', email: editingUser.email || '' });
                } else {
                    setFormData({ name: '', role: 'Penjahit', phone: '', email: '' });
                }
            }, [editingUser]);

            const openModal = (user = null) => {
                setEditingUser(user);
                setIsModalOpen(true);
            };
            
            const closeModal = () => {
                setEditingUser(null);
                setIsModalOpen(false);
            };

            const handleChange = (e) => {
                setFormData({ ...formData, [e.target.name]: e.target.value });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                if (editingUser) {
                    setUsers(users.map(u => u.id === editingUser.id ? { ...u, ...formData } : u));
                } else {
                    const newUser = { id: Date.now(), ...formData, status: 'Aktif' };
                    setUsers([...users, newUser]);
                }
                closeModal();
            };

            const handleDelete = (user) => {
                setUserToDelete(user);
            };
            
            const confirmDelete = () => {
                if (!userToDelete) return;
                setUsers(users.filter(u => u.id !== userToDelete.id));
                setUserToDelete(null);
            };
            
            return (
                <>
                    <Card>
                        <CardHeader>
                            <CardTitle>Daftar Karyawan</CardTitle>
                            <Button onClick={() => openModal()}><PlusIcon className="mr-2"/> Tambah Karyawan</Button>
                        </CardHeader>
                        <CardContent>
                           <div className="overflow-x-auto">
                            <table className="w-full text-sm text-left">
                                <thead className="text-xs text-slate-700 uppercase bg-slate-50">
                                    <tr>
                                        <th className="px-6 py-3">Nama</th>
                                        <th className="px-6 py-3">Role</th>
                                        <th className="px-6 py-3">Kontak</th>
                                        <th className="px-6 py-3">Status</th>
                                        <th className="px-6 py-3 text-right">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {users.map(user => (
                                        <tr key={user.id} className="bg-white border-b">
                                            <td className="px-6 py-4 font-medium text-slate-900">{user.name}</td>
                                            <td className="px-6 py-4">{user.role}</td>
                                            <td className="px-6 py-4">{user.phone || user.email}</td>
                                            <td className="px-6 py-4"><span className="bg-emerald-100 text-emerald-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">{user.status}</span></td>
                                            <td className="px-6 py-4 text-right">
                                                <div className="flex justify-end space-x-2">
                                                    <Button variant="ghost" size="sm" onClick={() => openModal(user)}><EditIcon/></Button>
                                                    <Button variant="ghost" size="sm" className="text-red-500 hover:bg-red-50" onClick={() => handleDelete(user)}><TrashIcon/></Button>
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                           </div>
                        </CardContent>
                    </Card>

                    <Modal isOpen={isModalOpen} onClose={closeModal} title={editingUser ? 'Edit Karyawan' : 'Tambah Karyawan Baru'}>
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <Label htmlFor="name">Nama Lengkap</Label>
                                <Input id="name" name="name" value={formData.name} onChange={handleChange} required/>
                            </div>
                            <div>
                                <Label htmlFor="role">Role</Label>
                                <Select id="role" name="role" value={formData.role} onChange={handleChange}>
                                    <option>Penjahit</option>
                                    <option>Pemotong</option>
                                    <option>Finishing</option>
                                    <option>Admin</option>
                                </Select>
                            </div>
                            <div>
                                <Label htmlFor="phone">Nomor HP</Label>
                                <Input id="phone" name="phone" type="tel" value={formData.phone} onChange={handleChange} placeholder="0812..."/>
                            </div>
                            <div>
                                <Label htmlFor="email">Email (opsional, untuk Admin)</Label>
                                <Input id="email" name="email" type="email" value={formData.email} onChange={handleChange}/>
                            </div>
                            <div className="flex justify-end space-x-2 pt-4">
                               <Button type="button" variant="secondary" onClick={closeModal}>Batal</Button>
                               <Button type="submit">{editingUser ? 'Simpan Perubahan' : 'Tambah Karyawan'}</Button>
                            </div>
                        </form>
                    </Modal>

                    <ConfirmationModal
                        isOpen={!!userToDelete}
                        onClose={() => setUserToDelete(null)}
                        onConfirm={confirmDelete}
                        title="Konfirmasi Hapus Karyawan"
                    >
                        {`Apakah Anda yakin ingin menghapus karyawan <strong>${userToDelete?.name}</strong>? Tindakan ini tidak dapat dibatalkan.`}
                    </ConfirmationModal>
                </>
            );
        }

        function KelolaKasbon() {
            const [kasbon, setKasbon] = useState(initialKasbon);
            const [users] = useState(initialUsers);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [formData, setFormData] = useState({ userId: '', amount: '', date: '' });
            const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);
            const [payingKasbon, setPayingKasbon] = useState(null);
            const [paymentAmount, setPaymentAmount] = useState('');

            const openModal = () => setIsModalOpen(true);
            const closeModal = () => setIsModalOpen(false);

            const openPaymentModal = (kasbonItem) => {
                setPayingKasbon(kasbonItem);
                setPaymentAmount('');
                setIsPaymentModalOpen(true);
            };

            const closePaymentModal = () => {
                setPayingKasbon(null);
                setIsPaymentModalOpen(false);
            };

            const handleChange = (e) => {
                setFormData({ ...formData, [e.target.name]: e.target.value });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                const newKasbon = {
                    id: Date.now(),
                    userId: parseInt(formData.userId),
                    amount: parseInt(formData.amount),
                    date: formData.date,
                    remaining: parseInt(formData.amount),
                    status: 'Baru'
                };
                setKasbon([...kasbon, newKasbon]);
                closeModal();
            };

            const handlePaymentSubmit = (e) => {
                e.preventDefault();
                const amount = parseInt(paymentAmount);
                if (!amount || amount <= 0 || !payingKasbon) return;

                setKasbon(kasbon.map(k => {
                    if (k.id === payingKasbon.id) {
                        const newRemaining = k.remaining - amount;
                        return {
                            ...k,
                            remaining: newRemaining < 0 ? 0 : newRemaining,
                            status: newRemaining <= 0 ? 'Lunas' : 'Cicilan',
                        };
                    }
                    return k;
                }));
                closePaymentModal();
            };

            const getUserName = (userId) => users.find(u => u.id === userId)?.name || 'N/A';
            const formatCurrency = (val) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(val);

            return (
                <>
                    <Card>
                        <CardHeader>
                            <CardTitle>Manajemen Kasbon</CardTitle>
                            <Button onClick={openModal}><PlusIcon className="mr-2" /> Beri Kasbon Baru</Button>
                        </CardHeader>
                        <CardContent>
                             <div className="overflow-x-auto">
                                <table className="w-full text-sm text-left">
                                    <thead className="text-xs text-slate-700 uppercase bg-slate-50">
                                        <tr>
                                            <th className="px-6 py-3">Karyawan</th>
                                            <th className="px-6 py-3">Tanggal</th>
                                            <th className="px-6 py-3">Jumlah Pinjaman</th>
                                            <th className="px-6 py-3">Sisa</th>
                                            <th className="px-6 py-3">Status</th>
                                            <th className="px-6 py-3 text-right">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {kasbon.map(k => (
                                            <tr key={k.id} className="bg-white border-b">
                                                <td className="px-6 py-4 font-medium text-slate-900">{getUserName(k.userId)}</td>
                                                <td className="px-6 py-4">{k.date}</td>
                                                <td className="px-6 py-4">{formatCurrency(k.amount)}</td>
                                                <td className="px-6 py-4 font-semibold">{formatCurrency(k.remaining)}</td>
                                                <td className="px-6 py-4">
                                                    <span className={`px-2 py-0.5 text-xs font-medium rounded-full ${k.status === 'Lunas' ? 'bg-emerald-100 text-emerald-800' : (k.status === 'Cicilan' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800')}`}>
                                                        {k.status}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4 text-right">
                                                    {k.remaining > 0 && <Button variant="secondary" size="sm" onClick={() => openPaymentModal(k)}>Bayar Cicilan</Button>}
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </CardContent>
                    </Card>

                    <Modal isOpen={isModalOpen} onClose={closeModal} title="Beri Kasbon Baru">
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <Label htmlFor="userId">Pilih Karyawan</Label>
                                <Select id="userId" name="userId" value={formData.userId} onChange={handleChange} required>
                                    <option value="">-- Pilih Karyawan --</option>
                                    {users.filter(u => u.role !== 'Admin').map(u => <option key={u.id} value={u.id}>{u.name}</option>)}
                                </Select>
                            </div>
                            <div>
                                <Label htmlFor="amount">Jumlah (Rp)</Label>
                                <Input id="amount" name="amount" type="number" value={formData.amount} onChange={handleChange} required/>
                            </div>
                             <div>
                                <Label htmlFor="date">Tanggal</Label>
                                <Input id="date" name="date" type="date" value={formData.date} onChange={handleChange} required/>
                            </div>
                            <div className="flex justify-end space-x-2 pt-4">
                               <Button type="button" variant="secondary" onClick={closeModal}>Batal</Button>
                               <Button type="submit">Simpan</Button>
                            </div>
                        </form>
                    </Modal>
                    
                    <Modal isOpen={isPaymentModalOpen} onClose={closePaymentModal} title={`Bayar Cicilan: ${getUserName(payingKasbon?.userId)}`}>
                        <form onSubmit={handlePaymentSubmit} className="space-y-4">
                            <div className="p-4 bg-slate-50 rounded-lg">
                                <p className="text-sm text-slate-600">Sisa Pinjaman Saat Ini</p>
                                <p className="text-2xl font-bold text-slate-800">{formatCurrency(payingKasbon?.remaining || 0)}</p>
                            </div>
                            <div>
                                <Label htmlFor="paymentAmount">Jumlah Pembayaran (Rp)</Label>
                                <Input 
                                    id="paymentAmount" 
                                    name="paymentAmount" 
                                    type="number" 
                                    value={paymentAmount} 
                                    onChange={(e) => setPaymentAmount(e.target.value)} 
                                    placeholder="Masukkan jumlah pembayaran"
                                    required
                                    min="1"
                                    max={payingKasbon?.remaining}
                                />
                            </div>
                            <div className="flex justify-end space-x-2 pt-4">
                               <Button type="button" variant="secondary" onClick={closePaymentModal}>Batal</Button>
                               <Button type="submit">Simpan Pembayaran</Button>
                            </div>
                        </form>
                    </Modal>
                </>
            );
        }

        function KelolaHarga() {
            const [rates, setRates] = useState(initialRates);
            const [rateToDelete, setRateToDelete] = useState(null);
            
            const handleRateChange = (id, newRate) => {
                setRates(rates.map(r => r.id === id ? { ...r, rate: parseInt(newRate) || 0 } : r));
            };

            const handleDeleteRate = (rate) => {
                setRateToDelete(rate);
            };

            const confirmDeleteRate = () => {
                if (!rateToDelete) return;
                setRates(rates.filter(r => r.id !== rateToDelete.id));
                setRateToDelete(null);
            };

            return (
                <>
                <Card>
                    <CardHeader>
                        <CardTitle>Master Harga per Pcs (Bisa diedit langsung)</CardTitle>
                        <Button disabled><PlusIcon className="mr-2" /> Tambah Harga Baru</Button>
                    </CardHeader>
                    <CardContent>
                         <div className="overflow-x-auto">
                            <table className="w-full text-sm text-left">
                                <thead className="text-xs text-slate-700 uppercase bg-slate-50">
                                    <tr>
                                        <th className="px-6 py-3">Model Produk</th>
                                        <th className="px-6 py-3">Role</th>
                                        <th className="px-6 py-3">Harga (Rp)</th>
                                        <th className="px-6 py-3 text-right">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {rates.map(rate => (
                                        <tr key={rate.id} className="bg-white border-b">
                                            <td className="px-6 py-4 font-medium text-slate-900">{rate.model}</td>
                                            <td className="px-6 py-4">{rate.role}</td>
                                            <td className="px-6 py-4">
                                                <Input 
                                                    type="number" 
                                                    value={rate.rate} 
                                                    onChange={(e) => handleRateChange(rate.id, e.target.value)}
                                                    className="max-w-[120px] h-8"
                                                />
                                            </td>
                                            <td className="px-6 py-4 text-right">
                                                <Button variant="ghost" size="sm" className="text-red-500 hover:bg-red-50" onClick={() => handleDeleteRate(rate)}><TrashIcon/></Button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </CardContent>
                </Card>
                <ConfirmationModal
                    isOpen={!!rateToDelete}
                    onClose={() => setRateToDelete(null)}
                    onConfirm={confirmDeleteRate}
                    title="Konfirmasi Hapus Harga"
                >
                    {`Apakah Anda yakin ingin menghapus harga untuk <strong>${rateToDelete?.model} (${rateToDelete?.role})</strong>?`}
                </ConfirmationModal>
                </>
            );
        }

        // --- MAIN APP COMPONENT ---

        function AdminApp() {
            const [activePage, setActivePage] = useState('karyawan');

            const renderPage = () => {
                switch (activePage) {
                    case 'karyawan': return <KelolaKaryawan />;
                    case 'kasbon': return <KelolaKasbon />;
                    case 'harga': return <KelolaHarga />;
                    default: return <KelolaKaryawan />;
                }
            };
            
            const NavLink = ({ page, label, icon }) => (
                <button 
                    onClick={() => setActivePage(page)}
                    className={`flex items-center w-full px-4 py-2 text-sm font-medium rounded-md transition-colors ${activePage === page ? 'bg-[#145CE6] text-white' : 'text-slate-600 hover:bg-slate-200'}`}
                >
                    {icon}
                    <span className="ml-3">{label}</span>
                </button>
            );

            return (
                <div className="flex h-screen bg-slate-100">
                    <aside className="w-64 bg-white border-r border-slate-200 p-4 flex flex-col">
                        <div className="mb-8">
                            <h1 className="text-2xl font-bold text-[#145CE6]">Admin Panel</h1>
                            <p className="text-sm text-slate-500">GarmentPay Hub</p>
                        </div>
                        <nav className="space-y-2">
                            <NavLink page="karyawan" label="Kelola Karyawan" icon={<UsersIcon className="w-5 h-5"/>} />
                            <NavLink page="kasbon" label="Kelola Kasbon" icon={<DollarSignIcon className="w-5 h-5"/>} />
                            <NavLink page="harga" label="Master Harga" icon={<TagIcon className="w-5 h-5"/>} />
                            <NavLink page="gaji" label="Proses Gaji" icon={<ClipboardIcon className="w-5 h-5"/>} />
                        </nav>
                        <div className="mt-auto">
                            <p className="text-xs text-slate-400">Â© 2025 GarmentPay Hub</p>
                        </div>
                    </aside>
                    <main className="flex-1 p-8 overflow-y-auto">
                        {renderPage()}
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AdminApp />);
    </script>
</body>
</html>

